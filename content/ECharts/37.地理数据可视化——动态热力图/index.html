<!DOCTYPE html>
<html style="height:100%">

<head>
    <meta charset="utf-8">
    <!-- 引入下载的 echarts.js 文件 -->
    <script type="text/javascript" src="js/echarts.js"></script>
    <!-- 引入下载的 query.min.js 文件 -->
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <!-- 引入下载的 bmap.js 文件 -->
    <script type="text/javascript" src="js/bmap.js"></script>
    <!-- 引入百度地图开放平台接口服务 -->
    <script src="https://api.map.baidu.com/getscript?v=3.0&ak=KOmVjPVUAey1G2E8zNhPiuQ6QiEmAwZu&services=&t=20230614151358"></script>
    <title>ECharts图表</title>
</head>

<body style="height: 100%; margin: 0">
    <!-- 为 ECharts 准备一个定义了宽高的 DOM -->
    <div id="container" style="height:100%"></div>
    <script type="text/javascript">
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('container'));

    $.getJSON('data.json', function(data) {
        $.getJSON('styleJson.json', function(styleJson) {

            // 设置图表的参数
            var option = {
                // bmap组件
                bmap: {
                    center: [120.13066322374, 30.240018034923], // 地图中心点坐标
                    zoom: 14, // 地图层级
                    roam: true, // 可以对地图进行缩放
                    // 地图底图样式设置
                    mapStyle: {
                        styleJson: styleJson
                    }
                },

                title: {
                    text: "动态热力图",
                    subtext: "数据来源：ECharts官方示例",
                    left: "center"
                },

                // 视觉映射组件
                visualMap: {
                    // 不显示 visualMap组件
                    show: false,
                    // [min, max] 形成了视觉映射的 定义域
                    min: 0,
                    max: 5,
                    // 定义 在选中范围中 的视觉元素
                    inRange: {
                        // 图元的颜色
                        color: ['blue', 'blue', 'green', 'yellow', 'red']
                    }
                },

                // 数据系列
                series: [{
                    type: 'heatmap',
                    coordinateSystem: 'bmap',
                    data: data,
                    // 每个点的大小
                    pointSize: 5,
                    // 每个点模糊的大小
                    blurSize: 6
                }],
            };


            // 使用指定的配置项和数据显示图表
            myChart.setOption(option);
        })
    })
    </script>
</body>

</html>